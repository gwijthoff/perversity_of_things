#!/usr/bin/env python

import re, glob, os

repls = {'interrupter.png)': '1.1 NEAR HERE]', 'telimco_transmitter_ford.jpeg)': '2.1 NEAR HERE]', 'branly_coherer.png)': '2.2 NEAR HERE]', 'dynamophone.png)': '2.3 NEAR HERE]', 'electrical_baths.png)': '3.1 NEAR HERE]', 'me_cover_aerophone.jpg)': '3.2 NEAR HERE]', 'tesla_coil1.png)': '3.3a NEAR HERE]', 'tesla_coil2.png)': '3.3b NEAR HERE]', 'tesla_coil3.png)': '3.3c NEAR HERE]', 'tesla_coil4.png)': '3.3d NEAR HERE]', 'tesla_coil5.png)': '3.3e NEAR HERE]', 'waoa_pin_jim.png)': '5.1 NEAR HERE]', 'marconi_tuned.png)': '6.1 NEAR HERE]', 'not_a_pipe_me191005.png)': '6.2 NEAR HERE]', 'blue_book2_jim.png)': '7.1 NEAR HERE]', 'signaling_mars1.png)': '7.2 NEAR HERE]', 'signaling_mars2.png)': '7.3 NEAR HERE]', 'signaling_mars3.png)': '7.4 NEAR HERE]', 'MechanicalHead-Hausmann.jpg)': '8.1 NEAR HERE]', 'gernsback_mirror_patent.png)': '8.2 NEAR HERE]', 'telephonoscope.jpg)': '8.3 NEAR HERE]', 'ee_cover_telephot.jpg)': '8.4 NEAR HERE]', 'television_telephot1.png)': '8.5 NEAR HERE]', 'tv_tele_2.png)': '8.6 NEAR HERE]', 'tv_tele_3.png)': '8.7 NEAR HERE]', 'tv_tele_4.png)': '8.8 NEAR HERE]', 'tv_tele_5.png)': '8.9 NEAR HERE]', 'bicycle_wireless.png)': '9.1 NEAR HERE]', 'wireless_telephone1.png)': '10.2 NEAR HERE]', 'wireless_telephone10.png)': '10.11 NEAR HERE]', 'wireless_telephone11.png)': '10.12 NEAR HERE]', 'wireless_telephone2.png)': '10.3 NEAR HERE]', 'wireless_telephone3.png)': '10.4 NEAR HERE]', 'wireless_telephone4.png)': '10.5 NEAR HERE]', 'wireless_telephone5.png)': '10.6 NEAR HERE]', 'wireless_telephone6.png)': '10.7 NEAR HERE]', 'wireless_telephone7.png)': '10.8 NEAR HERE]', 'wireless_telephone8.png)': '10.9 NEAR HERE]', 'wireless_telephone9.png)': '10.10 NEAR HERE]', 'wireless_telephone_ad.jpg)': '10.1 NEAR HERE]', 'aerophone_tower.png)': '11.1 NEAR HERE]', 'thought_recorder.tiff)': '12.3 NEAR HERE]', 'me_cover_hypnobio.jpg)': '12.1 NEAR HERE]', 'ralph_in_olden_times.png)': '12.2 NEAR HERE]', 'spectrum.png)': '16.1 NEAR HERE]', 'a_good_aerial.png)': '16.2 NEAR HERE]', 'loose_coupler.png)': '16.3 NEAR HERE]', 'to_detector.png)': '16.4 NEAR HERE]', 'to_instrument.png)': '16.5 NEAR HERE]', 'variable_condenser_jim.png)': '16.6 NEAR HERE]', 'ee_191504_cover.jpg)': '15.1 NEAR HERE]', 'radioson_ad.png)': '17.1 NEAR HERE]', 'Radioson_vs_fessenden.png)': '17.2 NEAR HERE]', 'radioson.png)': '17.3 NEAR HERE]', 'radioson2.png)': '17.4 NEAR HERE]', 'radioson3.png)': '17.5 NEAR HERE]', 'radioson4.png)': '17.6 NEAR HERE]', 'radioson5.png)': '17.7 NEAR HERE]', 'sayville_cover.jpg)': '18.1 NEAR HERE]', 'ee_cover_munchhausen.jpg)': '19.1 NEAR HERE]', 'munchhausen1.png)': '19.2 NEAR HERE]', 'munchhausen2.png)': '19.3 NEAR HERE]', 'bookworm.png)': '20.2 NEAR HERE]', 'teeth.png)': '21.1 NEAR HERE]', 'teeth2.jpg)': '21.2 NEAR HERE]', 'teeth3.png)': '21.3 NEAR HERE]', 'what_to_invent.png)': '24.1 NEAR HERE]', 'magnetic_storm.png)': '28.1 NEAR HERE]', 'you_get_the_job.jpg)': '28.2 NEAR HERE]', 'radio_league_america.png)': '29.1 NEAR HERE]', 'opera_by_wireless.jpg)': '31.1 NEAR HERE]', 'edison_ford_camping.jpg)': '33.1 NEAR HERE]', 'edison_hands.png)': '33.2 NEAR HERE]', 'edison1.jpg)': '33.3 NEAR HERE]', 'edison2.jpg)': '33.4 NEAR HERE]', 'ee_cover_121919_edison.jpg)': '33.5 NEAR HERE]', 'mars_msg1.png)': '34.1 NEAR HERE]', 'mars_msg2.png)': '34.2 NEAR HERE]', 'mars_msg3.png)': '34.3 NEAR HERE]', 'color-music.png)': '35.1 NEAR HERE]', 'physiophone1.png)': '35.2 NEAR HERE]', 'physiophone2.png)': '35.3 NEAR HERE]', 'physiophone3.png)': '35.4 NEAR HERE]', 'physiophone4.png)': '35.5 NEAR HERE]', 'physiophone5.png)': '35.6 NEAR HERE]', 'physiophone6.png)': '35.7 NEAR HERE]', 'physiophone7.png)': '35.8 NEAR HERE]', 'senarens1.png)': '37.1 NEAR HERE]', 'senarens2.png)': '37.2 NEAR HERE]', 'learn_while_you_sleep.png)': '38.1 NEAR HERE]', 'si_192112_cover.jpg)': '38.2 NEAR HERE]', 'radio_for_all.jpg)': '39.1 NEAR HERE]', 'radio_for_all2.jpg)': '39.2 NEAR HERE]', 'radio_for_all3.jpg)': '39.3 NEAR HERE]', '10k_years.jpg)': '40.1 NEAR HERE]', 'si_192202_cover.jpg)': '40.2 NEAR HERE]', 'dynamo_si_192210.jpg)': '42.1 NEAR HERE]', 'si_cover_192210.jpg)': '42.2 NEAR HERE]', 'rn_cover_192302.jpg)': '43.1 NEAR HERE]', 'scientifiction_number.jpg)': '44.1 NEAR HERE]', 'new_si_layout.jpg)': '45.1 NEAR HERE]', 'si_192310_cover.jpg)': '45.2 NEAR HERE]', 'osophone.png)': '46.1 NEAR HERE]', 'radio_tv_plane.png)': '47.1 NEAR HERE]', 'si_baseball_scoreboard.png)': '47.2 NEAR HERE]', 'isolator1.png)': '49.1 NEAR HERE]', 'isolator2.png)': '49.2 NEAR HERE]', 'isolator3.png)': '49.3 NEAR HERE]', 'as_voting.png)': '53.1 NEAR HERE]', 'straight_line_condenser1.png)': '54.1 NEAR HERE]', 'straight_line_condenser2.png)': '54.2 NEAR HERE]', 'straight_line_condenser3.png)': '54.3 NEAR HERE]', 'detectorium_ad.png)': '55.1 NEAR HERE]', 'detectorium1.png)': '55.2 NEAR HERE]', 'detectorium2.png)': '55.3 NEAR HERE]', 'detectorium3.png)': '55.4 NEAR HERE]', 'pianorad1.png)': '57.1 NEAR HERE]', 'pianorad2.png)': '57.2 NEAR HERE]', 'pianorad3.png)': '57.3 NEAR HERE]', 'staccatone_cover.png)': '57.4 NEAR HERE]', 'whats_wrong_tv.jpg)': '60.1 NEAR HERE]', 'electric_duel.png)': '63.1 NEAR HERE]', 'rn_cover_192710.jpg)': '64.1 NEAR HERE]', 'killing_flash.png)': '66.1 NEAR HERE]', 'wsq_cover_1930f.jpg)': '68.1 NEAR HERE]', 'flying_spot.png)': '69.1 NEAR HERE]', 'ws_193303_cover_technocrat.jpg)': '70.1 NEAR HERE]', 'campbell_space_rays.jpg)': '71.1 NEAR HERE]'}

for filename in glob.glob("*.md"):
    with open(filename) as file:
        text = file.read()

    for img, fignum in repls.items():
        text = text.replace(img, fignum)

    with open(filename, "w") as file:
        file.write(text)